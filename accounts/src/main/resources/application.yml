spring:
  application:
    name: accounts

  config:
    import: "consul:"

spring.cloud.consul:
  host: ${SPRING_CLOUD_CONSUL_HOST:localhost}
  port: ${SPRING_CLOUD_CONSUL_PORT:8500}
  discovery:
    enabled: true
    register: true
    service-name: ${spring.application.name}
    prefer-ip-address: true
  config:
    enabled: true
    prefix: config
    defaultContext: application
    format: YAML
    data-key: data

resilience4j:
  retry:
    instances:
      accountsToBlocker:
        max-attempts: 5
        wait-duration: 300ms

  circuitbreaker:
    instances:
      accountsToBlocker:
        sliding-window-type: COUNT_BASED
        sliding-window-size: 20
        failure-rate-threshold: 40
        wait-duration-in-open-state: 5s
